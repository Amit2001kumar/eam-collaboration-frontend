<div class="task-form-container">
    <h2>{{ mode }} Task</h2>

    <form [formGroup]="EdittaskForm" (ngSubmit)="onSubmit()" *ngIf="EdittaskForm">
        <div class="form-group mb-3">
            <label for="title">Title <span class="text-danger">*</span></label>
            <input id="title" type="text" class="form-control" formControlName="title" placeholder="Enter task title" />
            <div *ngIf="EdittaskForm.get('title')?.touched && EdittaskForm.get('title')?.invalid" class="error">
                Title is required.
            </div>
        </div>

        <div class="form-group mb-3">
            <label for="description">Description <span class="text-danger">*</span></label>
            <textarea id="description" class="form-control" formControlName="description" placeholder="Enter task description"></textarea>
            <div *ngIf="EdittaskForm.get('description')?.touched && EdittaskForm.get('description')?.invalid" class="error">
                Description is required.
            </div>
        </div>

        <div class="form-group mb-3">
            <label for="priority">Priority <span class="text-danger">*</span></label>
            <select id="priority" class="form-control" formControlName="priority">
                <option value="low">Low</option>
                <option value="medium">Medium</option>
                <option value="high">High</option>
            </select>
            <div *ngIf="EdittaskForm.get('priority')?.touched && EdittaskForm.get('priority')?.invalid" class="error">
                Priority is required.
            </div>
        </div>

        <div class="form-group mb-3">
            <label for="status">Status <span class="text-danger">*</span></label>
            <select id="status" class="form-control" formControlName="status">
                <option value="to-do">To Do</option>
                <option value="in-progress">In Progress</option>
                <option value="completed">Completed</option>
            </select>
            <div *ngIf="EdittaskForm.get('status')?.touched && EdittaskForm.get('status')?.invalid" class="error">
                Status is required.
            </div>
        </div>

        <div class="form-group mb-3">
            <label for="dueDate">Due Date <span class="text-danger">*</span></label>
            <input id="dueDate" type="date" class="form-control" formControlName="dueDate" />
            <div *ngIf="EdittaskForm.get('dueDate')?.touched && EdittaskForm.get('dueDate')?.invalid" class="error">
                Due Date is required.
            </div>
        </div>

        <button *ngIf="mode === 'Edit'" type="submit" class="btn btn-primary" [disabled]="EdittaskForm.invalid || isLoading">
            Submit
        </button>&nbsp;&nbsp;
        <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
    </form>
</div>
